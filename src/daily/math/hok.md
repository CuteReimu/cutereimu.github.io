---
title: 如何反推胜率
icon: percent
order: -3
category: 数学
tags:
  - 概率
---

假设某个游戏，已知各个角色的总胜率为 $r_\text{总}$，出场率为 $p_\text{总}$。在高分段的对局中，总胜率和出场率分别为 $r_\text{高}$ 和 $p_\text{高}$。如果我们想要反向推导出所有角色在低分段的胜率和出场率 $r_\text{低}$ 和 $p_\text{低}$，可以这样推导：

<!-- more -->

首先，我们可以假设高分段的场次占总场次的占比为 $f$（例如20%），则低分段的场次占比为 $(1 - f)$（例如80%）。

由于$\text{场次}_\text{总}\times\text{出场率}_\text{总}=\text{场次}_\text{高}\times\text{出场率}_\text{高}+\text{场次}_\text{低}\times\text{出场率}_\text{低}$，我们可以得到以下公式：

$$
p_\text{总} = f \cdot p_\text{高} + (1 - f) \cdot p_\text{低}
$$

而我们知道，$\text{胜场}=\text{场次}\times\text{出场率}\times\text{胜率}$，而$\text{胜场}_\text{总}=\text{胜场}_\text{高}+\text{胜场}_\text{低}$，因此我们有：

$$
\text{场次} \times p_\text{总} \times r_\text{总} = f \cdot \text{场次} \times p_\text{高} \times r_\text{高} + (1 - f) \cdot \text{场次} \times p_\text{低} \times r_\text{低}
$$

两边约掉场次，就有：

$$
p_\text{总} r_\text{总} = f p_\text{高} r_\text{高} + (1 - f) p_\text{低} r_\text{低}
$$

其中，$r_\text{总}$、$p_\text{总}$、$r_\text{高}$、$p_\text{高}$ 都是已知的，$f$ 是假设的高分段占比，都可以视为已知量。我们可以将这两个公式变形为：

$$
\begin{cases}
p_\text{低} = \dfrac{p_\text{总} - f p_\text{高}}{1 - f} \\
r_\text{低} = \dfrac{p_\text{总} r_\text{总} - f p_\text{高} r_\text{高}}{(1 - f) p_\text{低} }
\end{cases}
$$

调整合适的 $f$ 值，就可以得到低分段的胜率和出场率。

|     | 胜率~总~ | 出场率~总~ | 胜率~高~ | 出场率~高~ | 假设f~高~ | 胜率~低~ | 出场率~低~ |
|-----|-------|--------|-------|--------|--------|-------|--------|
| 角色A | 54.5  | 2.0    | 53.3  | 4.8    | 20     | 55.6  | 1.3    |
| 角色B | 53.3  | 2.0    | 51.8  | 4.7    | 20     | 54.6  | 1.3    |
| 角色C | 52.3  | 6.3    | 48.5  | 8.3    | 20     | 53.7  | 5.8    |
| 角色D | 52.4  | 2.9    | 49.4  | 3.3    | 20     | 53.3  | 2.8    |
| 角色E | 52.4  | 16.2   | 49.5  | 17.3   | 20     | 53.2  | 15.9   |
| 角色F | 52.5  | 4.2    | 49.9  | 4.5    | 20     | 53.2  | 4.1    |
| 角色G | 52.5  | 17.0   | 49.4  | 11.4   | 20     | 53.0  | 18.4   |
| 角色H | 52.5  | 12.6   | 51.3  | 11.5   | 20     | 52.8  | 12.9   |
| 角色I | 52.4  | 5.6    | 52.2  | 5.9    | 20     | 52.5  | 5.5    |
| 角色J | 51.4  | 5.8    | 52.7  | 17.4   | 20     | 49.5  | 2.9    |